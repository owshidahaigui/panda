51商城355

音乐排行榜410


智慧考试系统435

登录注册第一个项目参照乐途

第一个项目的用户id数据库自动生成，

登录注册第二个项目参照智慧考试系统
用户id同行uuid生成
redis封装
邮箱验证
验证码验证都是通过redis完成

手机短信验证，
邮箱激活，
成功之后密码通过hash加密存入数据库
如何创建token，装饰器细节

用户登录与信息管理模块，
忘记密码
修改密码
如何生成验证码
如何实现短信登录
收藏夹，历史足迹，

数据库表：用户足迹表，用户历史订单表，用户购物车表，

记录足迹使用redis缓存，键值为id+history
redis 缓存顾客的浏览足迹，当用户进入网页就会先判断是否登录，如果是已经登录的用户就会以该用户的id，游客用户的话，就会以uuid模块生成的唯一标识摸为键值生成一个有序集合结构，用户每次放起一个页面请求（不包括登录注册页面），我们就将URL和时间搓，append到有序集合中，并这个键放到cookie中区放回给用户，每次通过cookie的值，把用户的URL存到相应的redis中，游客在注册登录后也可以直接返回最近一次浏览的页面，在顾客结束回话后，就把有序集合中的值，插入的MySQL数据库中去永久存储后销毁。如果顾客没有登录就退出则直接销毁。

权限检测：



#### redis

用户可以在不用登录的情况下进行网页浏览（redis记录足迹）,进入购物车或者收藏夹，个人页面就通过token检测后，重定向到登录界面，用户注册成功后就会，根据足迹返回到上一个页面，

需要用户登录token检测的页面有，购物车，收藏夹，个人信息，



#### 编写token装饰器

这个装饰器，一共有3层，最外层函数参数传递请求方法，里面一层参数是被装饰函数名，在里面就是被装饰函数的参数了，首先判断最外层函数是否传入请求方法变量，没有的话就是直接返回试图函数，接着判断request的请求方法是否在

#### 文件图片保存动态生成



























